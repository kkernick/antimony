<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait for transmitting a SECCOMP Notify FD to a Monitor."><title>Notifier in seccomp::notify - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-80aa586b.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="seccomp" data-themes="" data-resource-suffix="" data-rustdoc-version="1.94.0-nightly (4f14395c3 2025-12-22)" data-channel="nightly" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-3e30299d.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-ffcac47a.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Notifier</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../seccomp/index.html">seccomp</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Notifier</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.handle" title="handle">handle</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.exempt" title="exempt">exempt</a></li><li><a href="#method.prepare" title="prepare">prepare</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In seccomp::<wbr>notify</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">seccomp</a>::<wbr><a href="index.html">notify</a></div><h1>Trait <span class="trait">Notifier</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/seccomp/notify.rs.html#77-103">Source</a> </span></div><pre class="rust item-decl"><code>pub trait Notifier: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static {
    // Required method
    fn <a href="#tymethod.handle" class="fn">handle</a>(&amp;mut self, fd: <a class="struct" href="https://doc.rust-lang.org/nightly/std/os/fd/owned/struct.OwnedFd.html" title="struct std::os::fd::owned::OwnedFd">OwnedFd</a>);

    // Provided methods
    fn <a href="#method.exempt" class="fn">exempt</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="enum" href="../action/enum.Action.html" title="enum seccomp::action::Action">Action</a>, <a class="struct" href="../syscall/struct.Syscall.html" title="struct seccomp::syscall::Syscall">Syscall</a>)&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.prepare" class="fn">prepare</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait for transmitting a SECCOMP Notify FD to a Monitor.</p>
<p>When <code>Filter::load()</code> is called, the Filter will execute the following
actions in the following order:</p>
<ol>
<li>Call <code>Notifier::exempt()</code></li>
<li>Call <code>Notifier::prepare()</code></li>
<li>Call <code>seccomp_load()</code></li>
<li>Call <code>Notifier::handle()</code></li>
</ol>
<p>Then, you should call <code>execve()</code>.
See <code>antimony::shared::syscalls::Notifier</code> for a socket implementation.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">ยง</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.handle" class="method"><a class="src rightside" href="../../src/seccomp/notify.rs.html#102">Source</a><h4 class="code-header">fn <a href="#tymethod.handle" class="fn">handle</a>(&amp;mut self, fd: <a class="struct" href="https://doc.rust-lang.org/nightly/std/os/fd/owned/struct.OwnedFd.html" title="struct std::os::fd::owned::OwnedFd">OwnedFd</a>)</h4></section></summary><div class="docblock"><p>Handle the SECCOMP FD. This function runs under the confined
SECCOMP Filter, and should transmit the OwnedFD to the
Notify Monitor. The more you do here, the more syscalls
you will need; consider moving as much as possible to
<code>prepare()</code></p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">ยง</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.exempt" class="method"><a class="src rightside" href="../../src/seccomp/notify.rs.html#85-87">Source</a><h4 class="code-header">fn <a href="#method.exempt" class="fn">exempt</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="enum" href="../action/enum.Action.html" title="enum seccomp::action::Action">Action</a>, <a class="struct" href="../syscall/struct.Syscall.html" title="struct seccomp::syscall::Syscall">Syscall</a>)&gt;</h4></section></summary><div class="docblock"><p>Return the list of syscalls that are used by the Notifier itself
in order to transmit the SECCOMP FD. These syscalls will be used
between <code>seccomp_load()</code> and <code>execve()</code>. For example, if sending
the FD across a socket, you should pass <code>sendmsg</code>.</p>
<p>The action should NOT be Notify, as that will cause a deadlock.
Instead, either Allow, or Log.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.prepare" class="method"><a class="src rightside" href="../../src/seccomp/notify.rs.html#93-95">Source</a><h4 class="code-header">fn <a href="#method.prepare" class="fn">prepare</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</h4></section></summary><div class="docblock"><p>Prepare for <code>seccomp_load</code>. This function is the last thing run
before <code>seccomp_load</code>, and as such is the last time you will
not be confined by the Filter. This can be used, for example,
to wait for a socket, then connect to it.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">ยง</a></h2><div id="implementors-list"></div><script src="../../trait.impl/seccomp/notify/trait.Notifier.js" async></script></section></div></main></body></html>